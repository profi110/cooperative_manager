{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
    <div class="card shadow mx-auto" style="max-width: 600px; border-radius: 15px;">
        <div class="card-body text-center">
            <h1 class="mb-4">üëã –ü—Ä–∏–≤—ñ—Ç, {{ user.username }}!</h1>
            <p class="text-muted">–í–∞—à–∞ –∞–¥—Ä–µ—Å–∞: <strong>{{ membership.street.name }}, –¥—ñ–ª. {{ membership.plot_number }}</strong></p>

            {% if meter %}
                <div class="alert alert-info py-2">–õ—ñ—á–∏–ª—å–Ω–∏–∫: ‚Ññ{{ meter.number }}</div>
                <a href="{% url 'submit_reading' %}" class="btn btn-success btn-lg btn-block py-3 font-weight-bold">
                    üìä –ü–µ—Ä–µ–¥–∞—Ç–∏ –ø–æ–∫–∞–∑–Ω–∏–∫–∏
                </a>
            {% else %}
                <div class="alert alert-warning">–û—á—ñ–∫—É–π—Ç–µ –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –≥–æ–ª–æ–≤–æ—é –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤—É.</div>
            {% endif %}
        </div>
    </div>

    {% if readings %}
    <div class="card mt-4 mx-auto border-0 shadow-sm" style="max-width: 600px;">
        <table class="table mb-0">
            <thead class="bg-light"><tr><th>–î–∞—Ç–∞</th><th>–∫–í—Ç‚ãÖ–≥–æ–¥</th><th>–°—É–º–∞</th></tr></thead>
            <tbody>
                {% for r in readings %}
                <tr>
                    <td>{{ r.date|date:"d.m" }}</td>
                    <td>{{ r.value_total }}</td>
                    <td class="text-success font-weight-bold">{{ r.get_cost|floatformat:2 }} –≥—Ä–Ω</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}
</div>
{% endblock %}